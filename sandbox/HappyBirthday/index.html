<!DOCTYPE html>
<head>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1">
<meta name="apple-mobile-web-app-capable" content="yes">
<title>Happy Birthday</title>
<style>
input {
  font-size: 1.5em;
  display: block;
  width: 90%;
  margin: 5% auto;
}
h1 {
  font-size: 4.5em;
  font-family:'Monotype Corsiva', 'Apple Chancery', 'ITC Zapf Chancery', 'URW Chancery L', cursive;
  text-align: center;
}

</style>
</head>
<body>
<script>
var portrait = document.createElement('div');
portrait.innerHTML = "What is your name? ";
portrait.style.padding = '40px';
portrait.style.display = 'none';

var landscape = document.createElement('div');
landscape.style.display = 'none';
landscape.style.background = 'black';
landscape.style.color = 'white';

var input = document.createElement('input');
var message = location.hash.replace(/^#/, '');
input.value = message;
var output = document.createElement('h1');
output.innerHTML = 'Happy Birthday<br/>' + input.value + '!';
input.addEventListener('change', function () {
  output.innerHTML = 'Happy Birthday<br/>' + input.value + '!';
  location.hash = '#' + input.value;
});

var hint = document.createElement('div');
hint.innerHTML = 'Please rotate your phone.';

portrait.appendChild(input);
portrait.appendChild(hint);
landscape.appendChild(output);

document.body.appendChild(portrait);
document.body.appendChild(landscape);

window.onorientationchange = function () {
  var degree = window.orientation;
  if(degree == 0 || degree == 180) {
    portrait.style.display = 'block';
    landscape.style.display = 'none';
    document.body.style.background = 'white';
  }
  if(degree == -90 || degree == 90) {
    portrait.style.display = 'none';
    landscape.style.display = 'block';
    document.body.style.background = 'black';
  }
};

window.onorientationchange();
document.body.addEventListener("touchmove", function(e) { e.preventDefault();}, false);
</script>
</body>
</html>
